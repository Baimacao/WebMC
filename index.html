<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>WebMC</title>
    <style>
        body {
            padding: 0;
            margin: 0;
            image-rendering: pixelated;
            height: 100vh;
            overflow: hidden;
            background: #1D1F21;
        }

        canvas {
            position: absolute;
            z-index: -1;
            width: 100%;
            height: 100vh;
        }
    </style>
    <!--    cormal保存顶点的法线信息    invMatrix接受模型变换矩阵的逆矩阵    lightDirection接受光的方向-->
    <!--      vec3  invLight = normalize(invMatrix * vec4(lightDirection, 0.0)).xyz;
                float diffuse  = clamp(dot(normal, invLight), 0.1, 1.0);
                vColor         = color * vec4(vec3(diffuse), 1.0);
        用来计算光系数
        normalize是内置函数 作用是将向量标准化【即化为长度为1的向量-->
    <script id="vs" type="x-shader/x-vertex">
        attribute vec3 position;
        attribute vec4 color;
        attribute vec2 textureCoord;
        uniform   mat4 mvpMatrix;
        varying   vec4 vColor;
        varying   vec2 vTextureCoord;

        void main(void){
            vColor=color;
            vTextureCoord=textureCoord;
            gl_Position    = mvpMatrix * vec4(position, 1.0);
        }

    </script>
    <!--        vs和fs中的vColor是不同的变量-->
    <!--        precision指定精确度 此为精密度中的float-->
    <script id="fs" type="x-shader/x-fragment">
        precision mediump float;
        uniform sampler2D texture;
        varying vec4 vColor;
        varying vec2      vTextureCoord;
        void main(void){
            vec4 smpColor = texture2D(texture, vTextureCoord);
            gl_FragColor=vColor*smpColor;
        }

    </script>
    <script src="./src/main.js" type="module"></script>
</head>
<body>
    <canvas id="canvas"></canvas>
</body>
</html>